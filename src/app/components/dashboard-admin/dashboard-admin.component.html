<div class="dashboard-container" dir="rtl">
  <div class="dashboard-layout">
    <div class="sidebar-section">
      <app-sidebar></app-sidebar>
    </div>

    <div class="main-content">
      <div class="dashboard-header">
        <div class="header-content">
          <div class="welcome-section">
            <h1 class="page-title">لوحة التحكم</h1>
            <p class="welcome-message">مرحباً {{ currentUser.fullName }}، نتمنى لك يوماً مثمراً</p>
          </div>
          <button class="btn btn-primary add-achievement-btn" routerLink="/add-achievement" routerLinkActive="active">
            <i class="fas fa-plus-circle"></i>
            إضافة نشاط جديد
          </button>
        </div>
      </div>

      <div class="stats-section">
        <div class="row g-3">
          <div class="col-6 col-lg-3">
            <div class="stat-card total">
              <div class="card-icon">
                <i class="fas fa-chart-bar"></i>
              </div>
              <div class="card-content">
                <h6 class="stat-label">إجمالي الأنشطة</h6>
                <h3 class="stat-value">{{ getStatValue('total') }}</h3>
              </div>
            </div>
          </div>
          <div class="col-6 col-lg-3">
            <div class="stat-card pending">
              <div class="card-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="card-content">
                <h6 class="stat-label">قيد المراجعة</h6>
                <h3 class="stat-value">{{ getStatValue('pending') }}</h3>
              </div>
            </div>
          </div>
          <div class="col-6 col-lg-3">
            <div class="stat-card approved">
              <div class="card-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="card-content">
                <h6 class="stat-label">المعتمدة</h6>
                <h3 class="stat-value">{{ getStatValue('approved') }}</h3>
              </div>
            </div>
          </div>
          <div class="col-6 col-lg-3">
            <div class="stat-card rejected">
              <div class="card-icon">
                <i class="fas fa-times-circle"></i>
              </div>
              <div class="card-content">
                <h6 class="stat-label">المرفوضة</h6>
                <h3 class="stat-value">{{ getStatValue('rejected') }}</h3>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="recent-achievements-section">
        <div class="section-card">
          <div class="card-header">
            <h5 class="card-title">أحدث الإنجازات</h5>
          </div>
          <div class="card-body">
            <div *ngIf="recentAchievements.length === 0" class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>لا توجد إنجازات حديثة</p>
              <button class="btn btn-outline-primary" routerLink="/add-achievement">إضافة أول إنجاز</button>
            </div>
      
            <div class="achievements-list" *ngIf="recentAchievements.length > 0">
              <div *ngFor="let r of recentAchievements; let i = index" class="achievement-item">
                <div class="achievement-counter">
                  <span class="counter-badge">{{ i + 1 }}</span>
                </div>
      
                <div class="achievement-content">
                  <div class="achievement-message" [innerHTML]="r.message"></div>
                  <div class="achievement-meta">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer class="dashboard-footer">
        <div class="footer-content">
          <i class="fas fa-university"></i>
          <span>الجهة المطوّرة: جامعة قنا – كلية حاسبات ومعلومات</span>
        </div>
      </footer>
    </div>
  </div>
</div>